<?xml version="1.0"?>
<!DOCTYPE hibernate-mapping PUBLIC "-//Hibernate/Hibernate Mapping DTD 3.0//EN"
"http://www.hibernate.org/dtd/hibernate-mapping-3.0.dtd">
<hibernate-mapping>
	<class name="com.h3c.iclouds.po.Network" table="iyun_vdc_network">
		<id name="id" type="string">
			<column name="id" length="36"/>
			<generator class="uuid.hex"/>
		</id>
		<property name="name" type="string">
			<column name="name" length="50" />
		</property>
		<property name="shared" type="boolean">
			<column name="shared"/>
		</property>
		<property name="tenantId" type="string" update="false">
			<column name="tenant_id" length="50" />
		</property>
		<property name="adminStateUp" type="boolean">
			<column name="admin_state_up"/>
		</property>
		<property name="status" type="string">
			<column name="status" length="16" />
		</property>
		<property name="mtu" type="int">
			<column name="mtu" length="4" />
		</property>
		<property name="vlanTransparent" type="boolean">
			<column name="vlan_transparent"/>
		</property>
		<property name="externalNetworks" type="boolean">
			<column name="externalNetworks"/>
		</property>
		<property name="vdcId" type="string" update="false">
			<column name="vdc_id" length="50" />
		</property>
		<property name="routeId" type="string">
			<column name="route_id" length="50" />
		</property>
		<property name="cloudosId" type="string">
			<column name="cloudos_id" length="50" />
		</property>
		<property name="createdBy" type="string" update="false">
			<column name="CreatedBy" length="36" />
		</property>
		<property name="createdDate" type="timestamp" update="false">
			<column name="CreatedDate" length="19" />
		</property>
		<property name="updatedBy" type="string">
			<column name="UpdatedBy" length="36" />
		</property>
		<property name="updatedDate" type="timestamp">
			<column name="UpdatedDate" length="19" />
		</property>
		<set name="floatingIps" lazy="false" inverse="true">
			<key> <column name="floating_network_id"/> </key>
			<one-to-many class="com.h3c.iclouds.po.FloatingIp" />
		</set>
		
		<property name="vdcName" type="string" formula="(SELECT vdc.name FROM iyun_base_vdc vdc WHERE vdc.id = vdc_id)"/>
		<property name="routeName" type="string" formula="(SELECT route.name FROM iyun_vdc_route route WHERE route.id = route_id)"/>
		<property name="cidr" type="string" formula="(SELECT sub.cidr FROM iyun_vdc_subnet sub WHERE sub.network_id = id)"/>
		<property name="gatewayIp" type="string" formula="(SELECT sub.gateway_ip FROM iyun_vdc_subnet sub WHERE sub.network_id = id)"/>
		<property name="ipVersion" type="int" formula="(SELECT sub.ip_version FROM iyun_vdc_subnet sub WHERE sub.network_id = id)"/>
		<property name="enableDhcp" type="boolean" formula="(SELECT sub.enable_dhcp FROM iyun_vdc_subnet sub WHERE sub.network_id = id)"/>
		<property name="ipv6RaMode" type="string" formula="(SELECT sub.ipv6_ra_mode FROM iyun_vdc_subnet sub WHERE sub.network_id = id)"/>
		<property name="ipv6AddressMode" type="string" formula="(SELECT sub.ipv6_address_mode FROM iyun_vdc_subnet sub WHERE sub.network_id = id)"/>
		<property name="uuid" type="string" formula="(SELECT item.uuid FROM iyun_vdc_items item WHERE item.id = id)"/>
		<property name="subnetId" type="string" formula="(SELECT sub.id FROM iyun_vdc_subnet sub WHERE sub.network_id = id)"/>
		<property name="routeCloudosId" type="string" formula="(SELECT route.cloudos_id FROM iyun_vdc_route route WHERE route.id = route_id)"/>
		<property name="subnetCloudosId" type="string" formula="(SELECT sub.cloudos_id FROM iyun_vdc_subnet sub WHERE sub.network_id = id)"/>
		<property name="projectName" type="string" formula="(select t.name from iyun_keystone_project t where t.id = tenant_id)"/>
	</class>
</hibernate-mapping>
